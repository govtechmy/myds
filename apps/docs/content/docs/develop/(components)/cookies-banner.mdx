---
title: Cookies Banner
description: Notifies users that the website uses cookies to improve their experience and gives them the option to manage their consent preferences through cookie settings. It typically appears when a user lands on the website for the first time.
---

import { InfoIcon } from "@govtechmy/myds-react/icon";
import Preview from "@/components/preview";
import { Button, ButtonIcon, ButtonCounter, Link } from "@/components/myds";
import { TypeTable } from "fumadocs-ui/components/type-table";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";
import { Quicklinks } from "@/components/quicklinks";
import {
  CookiesBannerPreview,
  CookiesPreferencesDemo,
} from "@/components/cookies-banner-preview";

<Tabs items={["Preview", "Code"]} defaultValue="Preview">
  <Tab value="Preview">
    <div className="flex justify-center">
      <CookiesBannerPreview />
    </div>
  </Tab>
  <Tab value="Code">
    ```tsx copy
    import {
      CookieBanner,
      CookieBannerClose,
      CookieBannerDescription,
      CookieBannerAction,
      CookieBannerPreferences,
      CookieBannerTitle,
      CookieBannerPreferencesTrigger,
    } from "@govtechmy/myds-react/cookie-banner";

    const CookiesBannerPreview = () => {
      const [open, setOpen] = useState(false);
      const [preferences, setPreferences] = useState({
        necessary: true,
        analytics: true,
        performance: true,
      });

      // Reset preferences back to default when dialog closes
      useEffect(() => {
        if (!open) {
          setPreferences({
            necessary: true,
            analytics: true,
            performance: true,
          });
        }
      }, [open]);

      return (
        <div>
          {/* Trigger */}
          <Button variant="primary-fill" onClick={() => setOpen(true)}>
            Open Cookie Settings
          </Button>

          {/* Cookie Banner */}
          <CookieBanner open={open} onOpenChange={setOpen}>
            <CookieBannerTitle>Cookie Preferences</CookieBannerTitle>
            <CookieBannerDescription>
              This website uses cookies to improve user experience. We need your
              consent to use some of the cookies.
            </CookieBannerDescription>

            <CookieBannerPreferences className="flex flex-col gap-2 py-3">
              <div className="flex flex-row gap-2.5">
                <Checkbox
                  id="necessary"
                  checked={true}
                  className="mt-0.5 flex-shrink-0"
                  disabled
                />
                <div className="flex flex-col justify-start gap-1">
                  <label
                    htmlFor="necessary"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Necessary
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Enable essential site features like secure log-ins and cookies
                    consent settings. We do not store personal data.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="analytics"
                  checked={preferences.analytics}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      analytics: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="analytics"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Analytics
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Track metrics like visitor count, bounce rate, and traffic
                    sources.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="performance"
                  checked={preferences.performance}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      performance: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="performance"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Performance
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Help analyze key website metrics, improving the user experience.
                  </p>
                </div>
              </div>
            </CookieBannerPreferences>

            <CookieBannerAction>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Accept all cookies.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Accept All
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Reject all cookies.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Reject All
                </Button>
              </CookieBannerClose>

              <CookieBannerPreferencesTrigger>
                Customise
              </CookieBannerPreferencesTrigger>
            </CookieBannerAction>

            <CookieBannerAction preferences>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Accept saved preferences.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Save preferences
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Necessary cookies accepted.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Accept necessary cookies
                </Button>
              </CookieBannerClose>
            </CookieBannerAction>
          </CookieBanner>
        </div>
      );
    };
    ```

  </Tab>
</Tabs>

<Quicklinks
  links={{
    storybook:
      "https://myds-storybook.vercel.app/?path=%2Fdocs%2Fgovtechmy-myds-react-cookiesbanner--docs",
    source:
      "https://github.com/govtechmy/myds/blob/main/packages/react/src/components/cookie-banner.tsx",
  }}
/>

## Usage

```ts copy title="Import"
import {
  CookieBanner,
  CookieBannerClose,
  CookieBannerDescription,
  CookieBannerAction,
  CookieBannerPreferences,
  CookieBannerTitle,
  CookieBannerPreferencesTrigger,
} from "@govtechmy/myds-react/cookie-banner";
```

```tsx copy title="Anatomy"
export default () => (
  <CookieBanner>
    <CookieBannerTitle />
    <CookieBannerDescription />
    <CookieBannerPreferences />
    <CookieBannerAction>
      <CookieBannerClose />
    </CookieBannerAction>
  </CookieBanner>
);
```

## Examples

### Uncontrolled vs Controlled State

Cookie Banner can be handled as a **controlled** or **uncontrolled** component.

- To use as an **uncontrolled** component, define the `defaultOpen` prop as initial state.
- To use as a **controlled** component, replace with the `open` and `onOpenChange` props.

Below is an example of a **controlled Cookie Banner**.

<Tabs items={["Preview", "Code"]} defaultValue="Preview">
  <Tab value="Preview">
    <div className="flex justify-center">
      <CookiesBannerPreview />
    </div>
  </Tab>
  <Tab value="Code">
    ```tsx copy
    import {
      CookieBanner,
      CookieBannerClose,
      CookieBannerDescription,
      CookieBannerAction,
      CookieBannerPreferences,
      CookieBannerTitle,
      CookieBannerPreferencesTrigger,
    } from "@govtechmy/myds-react/cookie-banner";

    const CookiesBannerPreview = () => {
      const [open, setOpen] = useState(false);
      const [preferences, setPreferences] = useState({
        necessary: true,
        analytics: true,
        performance: true,
      });

      // Reset preferences back to default when dialog closes
      useEffect(() => {
        if (!open) {
          setPreferences({
            necessary: true,
            analytics: true,
            performance: true,
          });
        }
      }, [open]);

      return (
        <div>
          {/* Trigger */}
          <Button variant="primary-fill" onClick={() => setOpen(true)}>
            Open Cookie Settings
          </Button>

          {/* Cookie Banner */}
          <CookieBanner open={open} onOpenChange={setOpen}>
            <CookieBannerTitle>Cookie Preferences</CookieBannerTitle>
            <CookieBannerDescription>
              This website uses cookies to improve user experience. We need your
              consent to use some of the cookies.
            </CookieBannerDescription>

            <CookieBannerPreferences className="flex flex-col gap-2 py-3">
              <div className="flex flex-row gap-2.5">
                <Checkbox
                  id="necessary"
                  checked={true}
                  className="mt-0.5 flex-shrink-0"
                  disabled
                />
                <div className="flex flex-col justify-start gap-1">
                  <label
                    htmlFor="necessary"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Necessary
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Enable essential site features like secure log-ins and cookies
                    consent settings. We do not store personal data.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="analytics"
                  checked={preferences.analytics}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      analytics: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="analytics"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Analytics
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Track metrics like visitor count, bounce rate, and traffic
                    sources.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="performance"
                  checked={preferences.performance}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      performance: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="performance"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Performance
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Help analyze key website metrics, improving the user experience.
                  </p>
                </div>
              </div>
            </CookieBannerPreferences>

            <CookieBannerAction>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Accept all cookies.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Accept All
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Reject all cookies.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Reject All
                </Button>
              </CookieBannerClose>

              <CookieBannerPreferencesTrigger>
                Customise
              </CookieBannerPreferencesTrigger>
            </CookieBannerAction>

            <CookieBannerAction preferences>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Accept saved preferences.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Save preferences
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Necessary cookies accepted.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Accept necessary cookies
                </Button>
              </CookieBannerClose>
            </CookieBannerAction>
          </CookieBanner>
        </div>
      );
    };
    ```

  </Tab>
</Tabs>

<Callout
  type="info"
  title="Note"
  className="bg-bg-primary-50 text-txt-primary border-transparent"
  icon={<InfoIcon className="size-5" />}
>
  We recommend to keep **CookieBanner** as an uncontrolled component (via
  `defaultOpen`). You may use client-side storage APIs such as `localStorage` or
  `sessionStorage` to store the state, and retrieve it when the user visits the
  website again.
</Callout>

### Preference Call-to-Action (CTA)

`CookieBannerAction` is responsible for displaying the call-to-action (CTAs) for the cookie banner. However, when allowing user to choose their cookie preferences, you may want to present a different CTAs. With `CookieBannerAction`, simply pass the `preferences` prop to display the preference CTAs.

<Tabs items={["Preview", "Code"]} defaultValue="Preview">
  <Tab value="Preview">
    <div className="flex justify-center">
      <CookiesPreferencesDemo />
    </div>
  </Tab>
  <Tab value="Code">
    ```tsx copy
    const CookiesPreferencesDemo = () => {
    const [open, setOpen] = useState(false);

    return (
      <div className="flex flex-col gap-4">
        <Button variant="primary-fill" onClick={() => setOpen(true)}>
          Open Cookie Settings
        </Button>
        <CookieBanner open={open} onOpenChange={setOpen}>
          <CookieBannerTitle className="text-body-md pb-1">
            Cookie Preferences
          </CookieBannerTitle>
          <CookieBannerDescription>
            This website uses cookies to improve user experience. We need your
            consent to use some of the cookies.
          </CookieBannerDescription>

          <CookieBannerPreferences className="bg-bg-washed px-2 font-mono">
            Hello from MYDS!
          </CookieBannerPreferences>

          {/* Default CTA */}
          <CookieBannerAction>
            <CookieBannerClose asChild>
              <Button
                variant="primary-fill"
                size="medium"
                onClick={() => alert("Accept all cookies.")}
                className="w-full justify-center sm:w-auto"
              >
                Accept All
              </Button>
            </CookieBannerClose>
            <CookieBannerClose asChild>
              <Button
                variant="primary-fill"
                size="medium"
                onClick={() => alert("Reject all cookies.")}
                className="w-full justify-center sm:w-auto"
              >
                Reject All
              </Button>
            </CookieBannerClose>

            <CookieBannerPreferencesTrigger>
              Customise
            </CookieBannerPreferencesTrigger>
          </CookieBannerAction>

          {/* Preference CTA */}
          <CookieBannerAction preferences>
            <CookieBannerPreferencesTrigger>Back</CookieBannerPreferencesTrigger>
            <CookieBannerClose asChild>
              <Button
                variant="primary-fill"
                size="medium"
                onClick={() => alert("Necessary cookies accepted.")}
                className="w-full justify-center sm:w-auto"
              >
                Accept necessary cookies
              </Button>
            </CookieBannerClose>
          </CookieBannerAction>
        </CookieBanner>
      </div>
      );
    };

    ```

  </Tab>
</Tabs>

<Callout
  type="info"
  title="Note"
  className="bg-bg-primary-50 text-txt-primary border-transparent"
  icon={<InfoIcon className="size-5" />}
>
  Use `CookieBannerPreferencesTrigger` to toggle the visibility of cookie
  preference options!
</Callout>

## Props

### CookieBanner

<TypeTable
  type={{
    defaultOpen: {
      type: "boolean",
      default: "false",
    },
    open: {
      type: "boolean",
      default: "false",
    },
    onOpenChange: {
      type: "(value: boolean) => void",
    },
  }}
/>

### CookieBannerTitle

<TypeTable
  type={{
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerDescription

<TypeTable
  type={{
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerPreferences

<TypeTable
  type={{
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerPreferencesTrigger

<TypeTable
  type={{
    asChild: {
      type: "boolean",
      description: "Overrides to use the child component as base DOM element.",
    },
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerAction

<TypeTable
  type={{
    preferences: {
      type: "boolean",
    },
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerClose

<TypeTable
  type={{
    asChild: {
      type: "boolean",
      description: "Overrides to use the child component as base DOM element.",
    },
    children: {
      type: "ReactNode",
    },
  }}
/>
