---
title: Banner Kuki
description: Memaklumkan pengguna bahawa laman web ini menggunakan kuki untuk meningkatkan pengalaman mereka dan memberikan pilihan untuk menguruskan pilihan mereka melalui tetapan kuki. Ia biasanya muncul apabila pengguna melawat laman web buat kali pertama.
---

import { InfoIcon } from "@govtechmy/myds-react/icon";
import Preview from "@/components/preview";
import { Button, ButtonIcon, ButtonCounter, Link } from "@/components/myds";
import { TypeTable } from "fumadocs-ui/components/type-table";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";
import { Quicklinks } from "@/components/quicklinks";
import {
  CookiesBannerPreview,
  CookiesPreferencesDemo,
} from "@/components/cookies-banner-preview";

<Tabs items={["Pratonton", "Kod"]} defaultValue="Pratonton">
  <Tab value="Pratonton">
    <div className="flex justify-center">
      <CookiesBannerPreview />
    </div>
  </Tab>
  <Tab value="Kod">
    ```tsx copy
    import {
      CookieBanner,
      CookieBannerClose,
      CookieBannerDescription,
      CookieBannerAction,
      CookieBannerPreferences,
      CookieBannerTitle,
      CookieBannerPreferencesTrigger,
    } from "@govtechmy/myds-react/cookie-banner";

    const CookiesBannerPreview = () => {
      const [open, setOpen] = useState(false);
      const [preferences, setPreferences] = useState({
        necessary: true,
        analytics: true,
        performance: true,
      });

      // Tetapkan semula Pilihan kepada lalai apabila dialog ditutup
      useEffect(() => {
        if (!open) {
          setPreferences({
            necessary: true,
            analytics: true,
            performance: true,
          });
        }
      }, [open]);

      return (
        <div>
          {/* Pencetus */}
          <Button variant="primary-fill" onClick={() => setOpen(true)}>
            Buka Tetapan Kuki
          </Button>

          {/* Banner Kuki */}
          <CookieBanner open={open} onOpenChange={setOpen}>
            <CookieBannerTitle>Pilihan Kuki</CookieBannerTitle>
            <CookieBannerDescription>
              Laman web ini menggunakan kuki untuk meningkatkan pengalaman pengguna. Kami memerlukan persetujuan anda untuk menggunakan beberapa kuki.
            </CookieBannerDescription>

            <CookieBannerPreferences className="flex flex-col gap-2 py-3">
              <div className="flex flex-row gap-2.5">
                <Checkbox
                  id="necessary"
                  checked={true}
                  className="mt-0.5 flex-shrink-0"
                  disabled
                />
                <div className="flex flex-col justify-start gap-1">
                  <label
                    htmlFor="necessary"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Perlu
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Mengaktifkan ciri penting laman seperti log masuk selamat dan tetapan persetujuan kuki. Kami tidak menyimpan data peribadi.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="analytics"
                  checked={preferences.analytics}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      analytics: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="analytics"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Analitik
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Menjejaki metrik seperti bilangan pelawat, kadar lantunan, dan sumber trafik.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="performance"
                  checked={preferences.performance}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      performance: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="performance"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Prestasi
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Membantu menganalisis metrik utama laman web, meningkatkan pengalaman pengguna.
                  </p>
                </div>
              </div>
            </CookieBannerPreferences>

            <CookieBannerAction>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Terima semua kuki.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Terima Semua
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Tolak semua kuki.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Tolak Semua
                </Button>
              </CookieBannerClose>

              <CookieBannerPreferencesTrigger>
                Sesuaikan
              </CookieBannerPreferencesTrigger>
            </CookieBannerAction>

            <CookieBannerAction preferences>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Terima Pilihan yang disimpan.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Simpan Pilihan
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Kuki perlu diterima.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Terima kuki perlu
                </Button>
              </CookieBannerClose>
            </CookieBannerAction>
          </CookieBanner>
        </div>
      );
    };
    ```

  </Tab>
</Tabs>

<Quicklinks
  links={{
    storybook:
      "https://myds-storybook.vercel.app/?path=%2Fdocs%2Fgovtechmy-myds-react-cookiesbanner--docs",
    source:
      "https://github.com/govtechmy/myds/blob/main/packages/react/src/components/cookie-banner.tsx",
  }}
/>

## Penggunaan

```ts copy title="Import"
import {
  CookieBanner,
  CookieBannerClose,
  CookieBannerDescription,
  CookieBannerAction,
  CookieBannerPreferences,
  CookieBannerTitle,
  CookieBannerPreferencesTrigger,
} from "@govtechmy/myds-react/cookie-banner";
```

```tsx copy title="Anatomi"
export default () => (
  <CookieBanner>
    <CookieBannerTitle />
    <CookieBannerDescription />
    <CookieBannerPreferences />
    <CookieBannerAction>
      <CookieBannerPreferencesTrigger />
      <CookieBannerClose />
    </CookieBannerAction>
  </CookieBanner>
);
```

## Contoh

### Keadaan Tidak Terkawal vs Terkawal

Banner Kuki boleh dikendalikan sebagai komponen **terkawal** atau **tidak terkawal**.

- Untuk menggunakan sebagai komponen **tidak terkawal**, tetapkan prop `defaultOpen` sebagai keadaan permulaan.
- Untuk menggunakan sebagai komponen **terkawal**, gantikan dengan prop `open` dan `onOpenChange`.

Berikut adalah contoh **Banner Kuki Terkawal**.

<Tabs items={["Pratonton", "Kod"]} defaultValue="Pratonton">
  <Tab value="Pratonton">
    <div className="flex justify-center">
      <CookiesBannerPreview />
    </div>
  </Tab>
  <Tab value="Kod">
    ```tsx copy
    import {
      CookieBanner,
      CookieBannerClose,
      CookieBannerDescription,
      CookieBannerAction,
      CookieBannerPreferences,
      CookieBannerTitle,
      CookieBannerPreferencesTrigger,
    } from "@govtechmy/myds-react/cookie-banner";

    const CookiesBannerPreview = () => {
      const [open, setOpen] = useState(false);
      const [preferences, setPreferences] = useState({
        necessary: true,
        analytics: true,
        performance: true,
      });

      // Tetapkan semula Pilihan kepada lalai apabila dialog ditutup
      useEffect(() => {
        if (!open) {
          setPreferences({
            necessary: true,
            analytics: true,
            performance: true,
          });
        }
      }, [open]);

      return (
        <div>
          {/* Pencetus */}
          <Button variant="primary-fill" onClick={() => setOpen(true)}>
            Buka Tetapan Kuki
          </Button>

          {/* Banner Kuki */}
          <CookieBanner open={open} onOpenChange={setOpen}>
            <CookieBannerTitle>Pilihan Kuki</CookieBannerTitle>
            <CookieBannerDescription>
              Laman web ini menggunakan kuki untuk meningkatkan pengalaman pengguna. Kami memerlukan persetujuan anda untuk menggunakan beberapa kuki.
            </CookieBannerDescription>

            <CookieBannerPreferences className="flex flex-col gap-2 py-3">
              <div className="flex flex-row gap-2.5">
                <Checkbox
                  id="necessary"
                  checked={true}
                  className="mt-0.5 flex-shrink-0"
                  disabled
                />
                <div className="flex flex-col justify-start gap-1">
                  <label
                    htmlFor="necessary"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Perlu
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Mengaktifkan ciri penting laman seperti log masuk selamat dan tetapan persetujuan kuki. Kami tidak menyimpan data peribadi.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="analytics"
                  checked={preferences.analytics}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      analytics: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="analytics"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Analitik
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Menjejaki metrik seperti bilangan pelawat, kadar lantunan, dan sumber trafik.
                  </p>
                </div>
              </div>
              <div className="flex flex-row space-x-2.5">
                <Checkbox
                  id="performance"
                  checked={preferences.performance}
                  onCheckedChange={(checked: boolean) => {
                    setPreferences((prev) => ({
                      ...prev,
                      performance: checked,
                    }));
                  }}
                  className="mt-0.5 flex-shrink-0"
                />
                <div className="flex flex-col space-y-1">
                  <label
                    htmlFor="performance"
                    className="text-txt-black-900 text-body-sm font-semibold"
                  >
                    Prestasi
                  </label>
                  <p className="text-txt-black-500 text-body-sm">
                    Membantu menganalisis metrik utama laman web, meningkatkan pengalaman pengguna.
                  </p>
                </div>
              </div>
            </CookieBannerPreferences>

            <CookieBannerAction>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Terima semua kuki.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Terima Semua
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Tolak semua kuki.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Tolak Semua
                </Button>
              </CookieBannerClose>

              <CookieBannerPreferencesTrigger>
                Sesuaikan
              </CookieBannerPreferencesTrigger>
            </CookieBannerAction>

            <CookieBannerAction preferences>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Terima Pilihan yang disimpan.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Simpan Pilihan
                </Button>
              </CookieBannerClose>
              <CookieBannerClose asChild>
                <Button
                  variant="primary-fill"
                  size="medium"
                  onClick={() => alert("Kuki perlu diterima.")}
                  className="w-full justify-center sm:w-auto"
                >
                  Terima kuki perlu
                </Button>
              </CookieBannerClose>
            </CookieBannerAction>
          </CookieBanner>
        </div>
      );
    };
    ```

  </Tab>
</Tabs>

<Callout
  type="info"
  title="Nota"
  className="bg-bg-primary-50 text-txt-primary border-transparent"
  icon={<InfoIcon className="size-5" />}
>
  Kami mengesyorkan untuk mengekalkan **CookieBanner** sebagai komponen tidak
  terkawal (melalui `defaultOpen`). Anda boleh menggunakan API storan di sisi
  klien seperti `localStorage` atau `sessionStorage` untuk menyimpan maklumat
  keadaan, dan merujuknya apabila pengguna melawat laman web semula.
</Callout>

### Panggilan untuk Bertindak (CTA) Pilihan

`CookieBannerAction` bertanggungjawab untuk memaparkan panggilan untuk bertindak (CTA) untuk banner kuki. Walau bagaimanapun, apabila membenarkan pengguna untuk memilih kuki mereka, anda mungkin ingin mempersembahkan CTA yang berbeza. Dengan `CookieBannerAction`, hanya tetapkan prop `preferences` untuk memaparkan CTA Pilihan.

<Tabs items={["Pratonton", "Kod"]} defaultValue="Pratonton">
  <Tab value="Pratonton">
    <div className="flex justify-center">
      <CookiesPreferencesDemo />
    </div>
  </Tab>
  <Tab value="Kod">
    ```tsx copy
    const CookiesPreferencesDemo = () => {
    const [open, setOpen] = useState(false);

    return (
      <div className="flex flex-col gap-4">
        <Button variant="primary-fill" onClick={() => setOpen(true)}>
          Buka Tetapan Kuki
        </Button>
        <CookieBanner open={open} onOpenChange={setOpen}>
          <CookieBannerTitle className="text-body-md pb-1">
            Pilihan Kuki
          </CookieBannerTitle>
          <CookieBannerDescription>
            Laman web ini menggunakan kuki untuk meningkatkan pengalaman pengguna. Kami memerlukan persetujuan anda untuk menggunakan beberapa kuki.
          </CookieBannerDescription>

          <CookieBannerPreferences className="bg-bg-washed px-2 font-mono">
            Hello from MYDS!
          </CookieBannerPreferences>

          {/* Default CTA */}
          <CookieBannerAction>
            <CookieBannerClose asChild>
              <Button
                variant="primary-fill"
                size="medium"
                onClick={() => alert("Terima semua kuki.")}
                className="w-full justify-center sm:w-auto"
              >
                Terima Semua
              </Button>
            </CookieBannerClose>
            <CookieBannerClose asChild>
              <Button
                variant="primary-fill"
                size="medium"
                onClick={() => alert("Tolak semua kuki.")}
                className="w-full justify-center sm:w-auto"
              >
                Tolak Semua
              </Button>
            </CookieBannerClose>

            <CookieBannerPreferencesTrigger>
              Sesuaikan
            </CookieBannerPreferencesTrigger>
          </CookieBannerAction>

          {/* Preference CTA */}
          <CookieBannerAction preferences>
            <CookieBannerPreferencesTrigger>Balik</CookieBannerPreferencesTrigger>
            <CookieBannerClose asChild>
              <Button
                variant="primary-fill"
                size="medium"
                onClick={() => alert("Kuki perlu diterima.")}
                className="w-full justify-center sm:w-auto"
              >
                Terima kuki perlu
              </Button>
            </CookieBannerClose>
          </CookieBannerAction>
        </CookieBanner>
      </div>
      );
    };

    ```

  </Tab>
</Tabs>

<Callout
  type="info"
  title="Nota"
  className="bg-bg-primary-50 text-txt-primary border-transparent"
  icon={<InfoIcon className="size-5" />}
>
  Gunakan `CookieBannerPreferencesTrigger` untuk menukar tetapan keadaan pilihan
  kuki!
</Callout>

## Props

### CookieBanner

<TypeTable
  type={{
    defaultOpen: {
      type: "boolean",
      default: "false",
    },
    open: {
      type: "boolean",
      default: "false",
    },
    onOpenChange: {
      type: "(value: boolean) => void",
    },
  }}
/>

### CookieBannerTitle

<TypeTable
  type={{
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerDescription

<TypeTable
  type={{
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerPreferences

<TypeTable
  type={{
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerPreferencesTrigger

<TypeTable
  type={{
    asChild: {
      type: "boolean",
      description:
        "Menimpa untuk menggunakan komponen anak sebagai elemen DOM asas.",
    },
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerAction

<TypeTable
  type={{
    preferences: {
      type: "boolean",
    },
    children: {
      type: "ReactNode",
    },
  }}
/>

### CookieBannerClose

<TypeTable
  type={{
    asChild: {
      type: "boolean",
      description:
        "Menimpa untuk menggunakan komponen anak sebagai elemen DOM asas.",
    },
    children: {
      type: "ReactNode",
    },
  }}
/>
